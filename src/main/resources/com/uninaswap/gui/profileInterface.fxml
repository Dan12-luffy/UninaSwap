<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Circle?>

<BorderPane prefHeight="800.0" prefWidth="1200.0" styleClass="main-container" stylesheets="@../guiCSS/mainInterface.css,@../guiCSS/profileInterface.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.uninaswap.controllers.ProfileController">
    <!-- Top Section -->
    <top>
        <VBox spacing="10.0" styleClass="top-container">
            <HBox alignment="CENTER_RIGHT" spacing="10.0" styleClass="top-banner">
                <Label styleClass="welcome-text" text="Benvenuto in UninaSwap!" />
                <Region HBox.hgrow="ALWAYS" />
                <Button fx:id="notificationBtn" text="Notifiche" styleClass="icon-button" />
                <Button fx:id="profileBtn" text="Profilo" styleClass="icon-button" />
            </HBox>
            <HBox alignment="CENTER" spacing="10.0" styleClass="main-header">
                <ImageView fitHeight="40.0" fitWidth="180.0" preserveRatio="true" styleClass="logo-image">
                    <image>
                        <Image url="@../images/uninaswap_logo.png" />
                    </image>
                </ImageView>
                <TextField fx:id="searchField" promptText="Cosa stai cercando oggi?" HBox.hgrow="ALWAYS" />
                <Button fx:id="searchBtn" text="Cerca" />
                <Button fx:id="wishlistBtn" text="Preferiti" />
                <Button fx:id="messagesBtn" text="Messaggi" />
                <Button fx:id="sellBtn" text="Vendi Articolo" styleClass="sell-button" />
            </HBox>
            <HBox alignment="CENTER_LEFT" spacing="10.0" styleClass="category-nav">
                <Button fx:id="backBtn" text="&lt; Torna alla Home" styleClass="back-button" />
                <Region HBox.hgrow="ALWAYS" />
                <Label styleClass="page-title" text="Il Mio Profilo" />
            </HBox>
        </VBox>
    </top>

    <!-- Left Sidebar -->
    <left>
        <VBox spacing="15.0" styleClass="profile-sidebar">
            <VBox alignment="CENTER" spacing="10.0" styleClass="profile-card">
                <StackPane>
                    <Circle fx:id="profileImgCircle" radius="60.0" fill="#f5f5f5" />
                    <ImageView fx:id="profileImg" fitHeight="120.0" fitWidth="120.0" preserveRatio="true">
                        <image>
                            <Image url="@../images/default_profile_image.jpg" />
                        </image>
                    </ImageView>
                    <Button fx:id="changeProfileImgBtn" text="Modifica" styleClass="change-image-button" />
                </StackPane>
                <Label fx:id="userFullNameLbl" text="Mario Rossi" styleClass="profile-name" />
                <Label fx:id="userRoleLbl" text="Studente di Ingegneria" styleClass="profile-role" />
                <HBox alignment="CENTER" spacing="10.0">
                    <VBox alignment="CENTER">
                        <Label fx:id="itemsCountLbl" text="12" styleClass="stat-value" />
                        <Label text="Articoli" styleClass="stat-label" />
                    </VBox>
                    <Separator orientation="VERTICAL" />
                    <VBox alignment="CENTER">
                        <Label fx:id="ratingLbl" text="4.8" styleClass="stat-value" />
                        <Label text="Valutazione" styleClass="stat-label" />
                    </VBox>
                    <Separator orientation="VERTICAL" />
                    <VBox alignment="CENTER">
                        <Label fx:id="dealsCountLbl" text="24" styleClass="stat-value" />
                        <Label text="Scambi" styleClass="stat-label" />
                    </VBox>
                </HBox>
            </VBox>
            <VBox spacing="5.0" styleClass="profile-nav">
                <ToggleButton fx:id="insertionsToggle" text="Le Mie Inserzioni" selected="true" />
                <ToggleButton fx:id="proposalsToggle" text="Proposte Ricevute" />
                <ToggleButton fx:id="offersMadeToggle" text="Offerte Inviate" />
                <ToggleButton fx:id="historyToggle" text="Storico Transazioni" />
                <ToggleButton fx:id="favoritesToggle" text="Articoli Preferiti" />
                <ToggleButton fx:id="settingsToggle" text="Impostazioni" />
            </VBox>
        </VBox>
    </left>

    <!-- Center Content -->
    <center>
        <StackPane>
            <VBox fx:id="insertionsSection" spacing="15.0" styleClass="profile-section">
                <HBox alignment="CENTER_LEFT" spacing="10.0" styleClass="section-header">
                    <Label text="Le Mie Inserzioni" styleClass="section-title" />
                    <Region HBox.hgrow="ALWAYS" />
                    <Button fx:id="addNewItemBtn" text="Aggiungi Nuovo" styleClass="primary-button" />
                </HBox>
                <ScrollPane fitToWidth="true" fitToHeight="true">
                    <VBox fx:id="activeItemsContainer" spacing="10.0" styleClass="items-container">
                        <!-- Example Item -->
                        <HBox spacing="10.0" styleClass="item-card">
                            <ImageView fitHeight="100.0" fitWidth="100.0" preserveRatio="true" styleClass="item-image">
                                <image>
                                    <Image url="@../images/default_profile_image.jpg" />
                                </image>
                            </ImageView>
                            <VBox spacing="5.0" styleClass="item-details">
                                <Label text="Libro Analisi Matematica I" styleClass="item-title" />
                                <Label text="Categoria: Libri" styleClass="item-category" />
                                <Label text="â‚¬25,00" styleClass="item-price" />
                            </VBox>
                        </HBox>
                    </VBox>
                </ScrollPane>
            </VBox>
        </StackPane>
    </center>
</BorderPane>