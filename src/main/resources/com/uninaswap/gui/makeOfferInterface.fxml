<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.Region?>

<BorderPane maxHeight="-Infinity" maxWidth="-Infinity" prefHeight="650.0" prefWidth="800.0" styleClass="main-container" stylesheets="@src/main/resources/com/uninaswap/guiCSS/makeoffer-styles.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.uninaswap.controllers.MakeOfferController">
    <top>
        <VBox styleClass="header-section">
            <children>
                <HBox alignment="CENTER" prefHeight="80.0" styleClass="header-bar">
                    <children>
                        <Label styleClass="page-title" text="Fai un'Offerta" />
                    </children>
                </HBox>
                <Region prefHeight="3.0" styleClass="header-divider" />
            </children>
        </VBox>
    </top>

    <center>
        <ScrollPane fitToWidth="true" hbarPolicy="NEVER" styleClass="content-scroll">
            <content>
                <VBox alignment="TOP_CENTER" spacing="30.0" styleClass="main-content">
                    <padding>
                        <Insets bottom="40.0" left="40.0" right="40.0" top="40.0" />
                    </padding>
                    <children>
                        <!-- Prodotto e offerta in layout orizzontale -->
                        <HBox alignment="TOP_CENTER" spacing="25.0" styleClass="product-offer-container">
                            <!-- Colonna sinistra - immagine e sezione offerta -->
                            <VBox spacing="25.0" styleClass="left-column">
                                <!-- Sezione immagine -->
                                <VBox alignment="CENTER" styleClass="image-section">
                                    <children>
                                        <VBox alignment="CENTER" styleClass="main-image-container">
                                            <children>
                                                <ImageView fx:id="productImageView" fitHeight="250.0" fitWidth="250.0" pickOnBounds="true" preserveRatio="true" styleClass="product-main-image" />
                                                <Label fx:id="noImageLabel" managed="false" styleClass="no-image-label" text="Nessuna immagine disponibile" visible="false" />
                                            </children>
                                        </VBox>
                                    </children>
                                </VBox>

                                <!-- Sezione offerta -->
                                <VBox alignment="CENTER" spacing="20.0" styleClass="offer-section">
                                    <children>
                                        <Label styleClass="section-title-large" text="La Tua Offerta" />

                                        <HBox alignment="CENTER" spacing="15.0" styleClass="price-info">
                                            <children>
                                                <Label styleClass="price-label" text="Prezzo di listino:" />
                                                <Label fx:id="productPriceLabel" styleClass="price-value" text="€0.00" />
                                            </children>
                                        </HBox>

                                        <VBox alignment="CENTER" spacing="8.0">
                                            <children>
                                                <HBox alignment="CENTER" spacing="15.0" styleClass="offer-input-row">
                                                    <children>
                                                        <Label styleClass="offer-label" text="Importo offerto:" />
                                                        <TextField fx:id="offerAmountField" prefWidth="150.0" promptText="€ 0.00" styleClass="offer-input" />
                                                    </children>
                                                </HBox>

                                                <Label fx:id="offerValidationLabel" managed="false" styleClass="validation-message" text="" visible="false" wrapText="true" />
                                            </children>
                                        </VBox>

                                        <!-- Bottoni azione -->
                                        <HBox alignment="CENTER" spacing="20.0" styleClass="button-section">
                                            <children>
                                                <Button fx:id="submitOfferButton" defaultButton="true" mnemonicParsing="false" onAction="#handleSubmitOffer" prefWidth="140.0" styleClass="submit-button" text="Invia Offerta" />
                                                <Button cancelButton="true" mnemonicParsing="false" onAction="#onExitButtonClicked" prefWidth="100.0" styleClass="cancel-button" text="Annulla" />
                                            </children>
                                        </HBox>
                                    </children>
                                </VBox>
                            </VBox>

                            <!-- Colonna destra - dettagli prodotto -->
                            <VBox spacing="20.0" styleClass="right-column">
                                <children>
                                    <VBox styleClass="product-details-section">
                                        <children>
                                            <Label fx:id="productTitleLabel" styleClass="product-title" text="Nome Prodotto" wrapText="true" />
                                            <Region prefHeight="15.0" />
                                            <Label styleClass="section-title" text="Descrizione" />
                                            <Region prefHeight="5.0" />
                                            <Label fx:id="productDescriptionLabel" styleClass="product-description" text="Descrizione dettagliata del prodotto..." wrapText="true" />
                                        </children>
                                    </VBox>

                                    <VBox styleClass="seller-section">
                                        <children>
                                            <Label styleClass="section-title" text="Informazioni Venditore" />
                                            <Region prefHeight="10.0" />
                                            <HBox alignment="CENTER_LEFT" spacing="10.0" styleClass="seller-info">
                                                <children>
                                                    <VBox alignment="CENTER" styleClass="seller-avatar">
                                                        <children>
                                                            <Label styleClass="avatar-placeholder" text="V" />
                                                        </children>
                                                    </VBox>
                                                    <VBox spacing="2.0">
                                                        <children>
                                                            <Label fx:id="sellerNameLabel" styleClass="seller-name" text="Nome Venditore" />
                                                            <Label fx:id="sellerRatingLabel" styleClass="seller-rating" text="★★★★☆ 4.5/5" />
                                                            <Label fx:id="sellerJoinedLabel" styleClass="seller-joined" text="Membro da Gennaio 2023" />
                                                        </children>
                                                    </VBox>
                                                </children>
                                            </HBox>
                                        </children>
                                    </VBox>

                                    <VBox styleClass="safety-tips">
                                        <children>
                                            <Label styleClass="section-title" text="Suggerimenti" />
                                            <Region prefHeight="5.0" />
                                            <Label styleClass="card-content" text="• Offri un prezzo ragionevole rispetto al valore di mercato" wrapText="true" />
                                            <Label styleClass="card-content" text="• Considera le condizioni del prodotto e l'usura" wrapText="true" />
                                            <Label styleClass="card-content" text="• Il venditore potrebbe accettare, rifiutare o proporre un altro prezzo" wrapText="true" />
                                        </children>
                                    </VBox>
                                </children>
                            </VBox>
                        </HBox>
                    </children>
                </VBox>
            </content>
        </ScrollPane>
    </center>
</BorderPane>